# Домашнее задание к занятию 1. «Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения»
## Задача 1. 
Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

### Ответ: 

#### Паравиртуализация:

- Гипервизорам необходима ОС для доступа к аппаратным ресурсам хоста;
- Гипервизор модифицирует ядро гостевой ОС для разделения доступа к аппаратным средствам физического сервера.

#### Полная виртуализация:

- Гипервизор берет на себя роль гостевой ОС, и получает доступ к ресурсам напрямую;
- Не требуется модификация гостевой ОС;
- Присутствует возможность создавать виртуальные машины с различными ОС;
- Виртуальные машины содержат собственные виртуальные устройства.
#### Виртуализация уровня ОС:

- Роль гипервизора берет на себя ядро хостовой ОС;
- Гостевая ОС использует мощности хоста;
- Можно создавать машины только с linux-системами или только с windows-системами;
- Виртуальные машины получаются легковесными и их называют контейнерами;
- Контейнеры разделяют ядро системы, работая как отдельные процессы основной ОС;
- Контейнеры монтируют устройства хоста.

## Задача 2.
 Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- высоконагруженная база данных, чувствительная к отказу;
- различные web-приложения;
- Windows-системы для использования бухгалтерским отделом;
- системы, выполняющие высокопроизводительные расчёты на GPU.  

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

### Ответ:

#### Высоконагруженная база данных, чувствительная к отказу - физические сервера

Виртуализация ухудшает производительность и увеличивает латентность. Это неблагоприятно сказывается на системах с высокой загруженностью. А отказоустойчивость в данном случае можно реальзовать резервированием.

#### Различные web-приложения - виртуализация уровня ОС

Виртуализация ОС подходит лучше всего, так как свернуть приложение в контейнер и развернуть из него быстрей, чем делать это с виртуальными машинами с полноценной ОС и отдельным ядром.

#### Windows системы для использования бухгалтерским отделом - паравиртуализация

Виртуализация увеличивает отказоустойчивость, из предложенных вариантов для Windows возможна только паравиртуализация.

#### Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера

В данном случае использование виртуализации нецелесообразно, так как она ухудшает производительность

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.  
   
```Подойдут VMware vSphere или Hyper-V. Они дружат как с Windows, так и с Linux системами; в них встроены репликация, бэкапы, балансировка; могут работать в кластере гипервизоров, что необходимо для работы 100 виртуальных машин.```

2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

```Подойдёт Proxmox в режиме KVM: open source решение, хорошо поддерживает Linux и Windows системы, по управлению может равняться с платными гипервизорами.```

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.

```Hyper-V максимально совместим c Windows гостевыми ОС, бесплатный.```

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

```В данном случае идеален LXD, т.к. он содержит огромную библиотеку с разными дистрибутивами в большом количестве конфигураций контейнеров. 4 версия позволяет запускать ещё и виртуальные машины. Это важно для тестирования ПО, требующего собственное полноценное ядро.```

### Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

### Ответ:

В первую очередь такую среду тяжелее администрировать. Следовательно, появляется необходимость наличия высококвалифицированных специалистов. Кроме этого, ухудшается отказоустойчивость.

Для минимизации рисков и проблем:  
- В случае, если гетерогенная среда не оправдана нужно рассмотреть возможность отказа от нее.  
- Если она оправдана, то часть инфраструктуры можно перенести на IaaS, а инфраструктуру вывести в IaC.

Я бы без крайней необходимости не создавал гетерогенную среду виртуализации. Она дает небольшую выгоду в производительности и цене, но эти выгоды не всегда бывают оправданы.