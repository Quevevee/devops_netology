# Домашнее задание к занятию «Командная оболочка Bash: Практические навыки»

### 1. Есть скрипт
````bash
a=1
b=2
c=a+b
d=$a+$b
e=$(($a+$b))
````
Какие значения переменным c,d,e будут присвоены? Почему?


| Переменная  | Значение | Обоснование |
| ------------- | ------------- | ------------- |
| `c`  | a+b  | в данном случае bash интерпретирует выражение a+b как строку |
| `d`  | 1+2  | в данном случае bash интерпретирует выражение $a+$b как строку из значения переменной a знака "+" и значения переменной b |
| `e`  | 3  | в этом случае bash позволяет выполнить арифметическую операцию сложения с целыми цислами значений переменных a и b, даже если они до этого незадекларированы |

### 2. На нашем локальном сервере упал сервис, и мы написали скрипт, который постоянно проверяет его доступность, записывая дату проверок до тех пор, пока сервис не станет доступным. После чего скрипт должен завершиться.

В скрипте допущена ошибка, из-за которой выполнение не может завершиться, при этом место на жёстком диске постоянно уменьшается. Что необходимо сделать, чтобы его исправить:

```bash
while ((1==1)
do
	curl https://localhost:4757
	if (($? != 0))
	then
		date >> curl.log
	fi
done
```
Мой скрипт:
```bash
while ((1==1))            # Нужно добавить закрывающую скобку
do
	curl https://localhost:4757
	if (($? != 0))
	then
		date > curl.log   # Нужно оставить один знак >, чтобы данные перезаписывались, а не добавлялись в конец файла
	else break            # Нужно добавить эту строку, чтобы скрипт мог завершиться
	fi
done
```
### 3. Необходимо написать скрипт, который проверяет доступность трёх IP: 192.168.0.1, 173.194.222.113, 87.250.250.242 по 80 порту и записывает результат в файл log. Проверять доступность необходимо пять раз для каждого узла.
Мой скрипт:
```bash
#!/bin/bash
array_a=(192.168.31.1 173.194.222.113 87.250.250.241)
while ((1==1))
    do
        for ip in ${array_a[@]}
            do
                curl -m 10 -s "$ip:80"
                if [ $? == 0 ]
                then
                echo $ip $(date "+%D %T") " OK" >> curl.log
                sleep 1
                else
                echo $ip $(date "+%D %T") " failed" >> error.log
                exit
                fi
            done
    done
```